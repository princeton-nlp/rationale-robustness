The Aix-Marseille-Provence Metropolis -LRB- métropole d'Aix-Marseille-Provence -RRB- is a French intercommunality formed on , encompassing the urban agglomerations of Marseille , Aix-en-Provence , Aubagne , Martigues and other smaller towns in the suburbs of Marseille , in the Bouches-du-Rhône departement .